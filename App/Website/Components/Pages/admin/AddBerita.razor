@layout AdminLayout
@page "/admin/addberita"

@rendermode InteractiveAuto

@using Website.Data
@using global::Website.Data
@inject IJSRuntime JSRuntime

<!-- Main content -->
<section class="content">
    <div class="container-fluid">

        <!-- general form elements -->
        <div class="card card-primary">
            <div class="card-header">
                <h3 class="card-title">Tambah Berita</h3>


            </div>
            <!-- /.card-header -->
            <!-- form start -->
            <form>
                <div class="card-body">
                    <div class="form-group">
                        <label for="exampleInputEmail1">Judul Berita</label>
                        <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Judul Berita">
                    </div>
                    <div class="form-group">
                        <label for="exampleInputPassword1">Isi Berita</label>
                        <CKEditorBlazor Id="MyEditor1" @bind-Value="@editorOptions.InitialText"
                                        UrlToPostImage="http://localhost:44301/api/qaiser/Upload">
                        </CKEditorBlazor>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputFile">Foto Berita</label>
                        <div class="input-group">
                            <div class="custom-file">
                                <input type="file" class="custom-file-input" id="exampleInputFile">
                                <label class="custom-file-label" for="exampleInputFile">Choose file</label>
                            </div>
                            <div class="input-group-append">
                                <span class="input-group-text">Upload</span>
                            </div>
                        </div>
                    </div>
                    <div class="form-check">
                        <button type="submit" class="btn-primary">Kirim</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</section>
<!-- /.card-body -->
@code {
    EditorOptions editorOptions;

    protected override async Task OnInitializedAsync()
    {
        editorOptions = new EditorOptions();
        editorOptions.InitialText = "Welcome to Qaiser Mehmood github editor5-blazor app";

        var txt = await Task.Run(() => 1);
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await JSRuntime.InvokeVoidAsync("displayTickerAlert1", "test", "AAA");
        await base.OnAfterRenderAsync(firstRender);
    }
}